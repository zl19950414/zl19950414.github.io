{"version":3,"sources":["scripts/views/login/index.js"],"names":["Login","fun1","setState","code","arr","getRandomInt","min","max","Math","floor","random","push","alert","join","getCode","todologin","getlginpphone","refs","state","value","getlginpcode","console","log","test","axios","get","params","then","res","data","status","msg","history","sessionStorage","isLogin","JSON","stringify","style","background","overflow","height","position","onClick","go","fontSize","margin","width","marginLeft","marginBottom","src","alt","placeholder","ref","top","right","this","borderRadius","color","float","display","justifyContent","borderRight","className","padding","Component"],"mappings":"wUAMqBA,E,YACjB,aAAe,IAAD,8BACV,+CAKJC,KAAO,WAeH,EAAKC,SAAS,CACVC,KAfJ,WACI,IAAIC,EAAM,GACV,SAASC,EAAaC,EAAKC,GACvB,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,IAAMA,EASzD,OAPAF,EAAIO,KAAKN,EAAa,EAAG,IACzBD,EAAIO,KAAKN,EAAa,EAAG,IACzBD,EAAIO,KAAKN,EAAa,EAAG,IACzBD,EAAIO,KAAKN,EAAa,EAAG,IACzBD,EAAIO,KAAKN,EAAa,EAAG,IACzBD,EAAIO,KAAKN,EAAa,EAAG,IACzBO,MAAMR,EAAIS,KAAK,KACRT,EAAIS,KAAK,IAGVC,MAtBA,EAyBdC,UAAY,WACR,IAAIC,EAAgB,EAAKC,KAAKD,cAAcE,MAAMC,MAC9CC,EAAe,EAAKH,KAAKG,aAAaF,MAAMC,MAChDE,QAAQC,IAAI,EAAKJ,MAAMf,MAEnBiB,GAAgB,EAAKF,MAAMf,MAC3B,WAAWoB,KAAKP,IAEhBQ,IAAMC,IAAI,aACN,CACIC,OAAQ,CACJV,mBAGVW,KAAK,SAAAC,GACoB,GAAnBA,EAAIC,KAAKC,QACTlB,MAAMgB,EAAIC,KAAKE,KACfC,IAAQrB,KAAR,6CAAmDK,IACnDiB,eAAeC,QAAU,IACzBD,eAAejB,cAAgBmB,KAAKC,UAAUpB,IACpB,GAAnBY,EAAIC,KAAKC,QAChBlB,MAAMgB,EAAIC,KAAKE,QA5C3B,EAAKb,MAAQ,CACTf,KAAM,QAHA,E,sEAoDV,OACI,uBAAKkC,MAAO,CAAEC,WAAY,OAAQC,SAAU,SAAUC,OAAQ,OAAQC,SAAU,aAC5E,sBAAIC,QAAS,WAAQV,IAAQW,IAAI,IAAMN,MAAO,CAAEO,SAAU,OAAQC,OAAQ,SAA1E,KACA,qBAAGR,MAAO,IACN,uBAAKA,MAAO,CAAES,MAAO,MAAOC,WAAY,MAAOC,aAAc,MAAQC,IAAI,+DAA+DC,IAAI,MAEhJ,0BACA,0BACA,0BACA,0BACA,0BACA,qBACIC,YAAY,uCACZC,IAAI,kBAER,qBACIA,IAAI,eACJD,YAAY,qDAEhB,2BAASd,MAAO,CAAEI,SAAU,WAAYY,IAAK,QAASC,MAAO,QACzDZ,QAASa,KAAKtD,MADlB,kCAKA,0BACA,0BACA,0BACA,0BACA,0BACA,yBACI,qBAAQoC,MAAO,CAAEmB,aAAc,OAAQlB,WAAY,UAAWmB,MAAO,QAAUf,QAASa,KAAKxC,WAA7F,yCAAwH,2BAE5H,yBACI,0BACA,2BACI,qBAAGsB,MAAO,CAAEqB,MAAO,QAAUhB,QAAS,WAAQV,IAAQrB,KAAK,iBAA3D,yCACA,qBAAG0B,MAAO,CAAEqB,MAAO,SAAWhB,QAAS,WAAQV,IAAQrB,KAAK,eAA5D,kBAEJ,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,2BAEJ,yBACI,0BACA,uBAAK0B,MAAO,CAAEsB,QAAS,OAAQC,eAAgB,iBAC3C,qBAAGvB,MAAO,CAAEwB,YAAa,iBAAkBf,MAAO,QAC9C,qBAAGgB,UAAU,sBACb,wBAAMzB,MAAO,CAAE0B,QAAS,SAAxB,OAEJ,qBAAG1B,MAAO,IACN,qBAAGyB,UAAU,2BACb,wBAAMzB,MAAO,CAAE0B,QAAS,SAAxB,wBAGR,gC,GAtHeC,I","file":"static/js/17.599f815e.chunk.js","sourcesContent":["\r\n\r\n\r\nimport { List, InputItem, WhiteSpace, Button, WingBlank } from 'antd-mobile';\r\nimport { history } from \"&/history\";\r\nimport { axios } from '&/axios';\r\nexport default class Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            code: 218442\r\n        }\r\n    }\r\n    fun1 = () => {\r\n        function getCode() {\r\n            var arr = [];\r\n            function getRandomInt(min, max) {\r\n                return Math.floor(Math.random() * (max - min + 1)) + min;\r\n            }\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            alert(arr.join(\"\"));\r\n            return arr.join(\"\");\r\n        }\r\n        this.setState({\r\n            code: getCode()\r\n        })\r\n    }\r\n    todologin = () => {\r\n        var getlginpphone = this.refs.getlginpphone.state.value\r\n        var getlginpcode = this.refs.getlginpcode.state.value\r\n        console.log(this.state.code);\r\n        if (\r\n            getlginpcode == this.state.code &&\r\n            /^1\\d{10}/.test(getlginpphone)\r\n        ) {\r\n            axios.get(\"/vue/login\",\r\n                {\r\n                    params: {\r\n                        getlginpphone\r\n                    }\r\n                }\r\n            ).then(res => {\r\n                if (res.data.status == 1) {\r\n                    alert(res.data.msg);\r\n                    history.push(`index/mine?isLogin=1&getlginpphone=${getlginpphone}`)\r\n                    sessionStorage.isLogin = \"1\";\r\n                    sessionStorage.getlginpphone = JSON.stringify(getlginpphone);\r\n                } else if (res.data.status == 0) {\r\n                    alert(res.data.msg);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{ background: \"#fff\", overflow: \"hidden\", height: \"100%\", position: 'relative' }}>\r\n                <h2 onClick={() => { history.go(-1) }} style={{ fontSize: '30px', margin: '10px' }}>X</h2>\r\n                <p style={{}}>\r\n                    <img style={{ width: \"50%\", marginLeft: \"26%\", marginBottom: '2%' }} src=\"https://m.hua.com/content/vue/login/static/img/m_hualogo.png\" alt=\"\" />\r\n                </p>\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <InputItem\r\n                    placeholder=\"请输入手机号\"\r\n                    ref=\"getlginpphone\"\r\n                />\r\n                <InputItem\r\n                    ref=\"getlginpcode\"\r\n                    placeholder=\"请输入短信验证码\"\r\n                />\r\n                <section style={{ position: 'absolute', top: '176px', right: \"20px\" }}\r\n                    onClick={this.fun1}\r\n                >\r\n                    获取验证码\r\n                </section>\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WingBlank>\r\n                    <Button style={{ borderRadius: '22px', background: \"#ff734c\", color: \"#fff\" }} onClick={this.todologin}>手机登录/注册</Button><WhiteSpace />\r\n                </WingBlank>\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <div>\r\n                        <p style={{ float: 'left' }} onClick={() => { history.push('/otherlogin') }}>账号密码登录></p>\r\n                        <p style={{ float: 'right' }} onClick={() => { history.push('/register') }}>注册></p>\r\n                    </div>\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                </WingBlank>\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <div style={{ display: 'flex', justifyContent: \"space-around\" }}>\r\n                        <p style={{ borderRight: '2px solid grey', width: '40%' }}>\r\n                            <i className=\"iconfont icon-qie\"></i>\r\n                            <span style={{ padding: '10px' }}>QQ</span>\r\n                        </p>\r\n                        <p style={{}}>\r\n                            <i className=\"iconfont icon-zhifubao\"></i>\r\n                            <span style={{ padding: '10px' }}>支付宝</span>\r\n                        </p>\r\n                    </div>\r\n                    <WhiteSpace />\r\n                </WingBlank>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}