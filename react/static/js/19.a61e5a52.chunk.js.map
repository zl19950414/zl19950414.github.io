{"version":3,"sources":["scripts/views/register/index.js"],"names":["Register","changeclassName","e","console","log","target","className","dir","setState","beforeclassName","beforeclassNameType","refs","getlginp","props","type","fun1","code","arr","getRandomInt","min","max","Math","floor","random","push","alert","join","getCode","todoRegister","getlginppassword","state","value","getlginpphone","getlginpcode","test","length","axios","get","params","then","res","data","status","msg","history","sessionStorage","isLogin","JSON","stringify","this","style","background","overflow","height","position","onClick","go","fontSize","margin","width","marginLeft","marginBottom","src","alt","top","left","ref","placeholder","right","paddingRight","borderRadius","color","display","justifyContent","Component"],"mappings":"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","file":"static/js/19.a61e5a52.chunk.js","sourcesContent":["\r\nimport { List, InputItem, WhiteSpace, Button, WingBlank } from 'antd-mobile';\r\nimport { history } from '&/history'\r\nimport { axios } from '&/axios';\r\nexport default class Register extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            beforeclassName: \"iconfont icon-biyan1\",\r\n            beforeclassNameType: 'password',\r\n            code: 218442\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        console.log(this.refs.getlginp.state.value);\r\n        console.log(this.refs.getlginp.props);\r\n    }\r\n    changeclassName = (e) => {\r\n        console.log(e.target.className);\r\n        console.dir(e.target);\r\n        this.setState({\r\n            beforeclassName: (e.target.className == 'iconfont icon-biyan1') ? 'iconfont icon-yanjing-zhengyan' : 'iconfont icon-biyan1',\r\n            beforeclassNameType: (this.refs.getlginp.props.type == \"password\") ? \"text\" : \"password\"\r\n        })\r\n    }\r\n    fun1 = () => {\r\n        function getCode() {\r\n            var arr = [];\r\n            function getRandomInt(min, max) {\r\n                return Math.floor(Math.random() * (max - min + 1)) + min;\r\n            }\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            arr.push(getRandomInt(1, 9));\r\n            alert(arr.join(\"\"));\r\n            return arr.join(\"\");\r\n        }\r\n        this.setState({\r\n            code: getCode()\r\n        })\r\n    }\r\n    todoRegister = () => {\r\n        console.log(22)\r\n        var getlginppassword = this.refs.getlginp.state.value\r\n        var getlginpphone = this.refs.getlginpphone.state.value\r\n        var getlginpcode = this.refs.getlginpcode.state.value\r\n        console.log(this.state.code);\r\n        if (\r\n            getlginpcode == this.state.code &&\r\n            /^[A-Za-z]\\w{5,6}/.test(getlginppassword) &&\r\n            getlginppassword.length <= 10 &&\r\n            /^1\\d{10}/.test(getlginpphone)\r\n        ) {\r\n            axios.get(\"/vue/register\",\r\n                {\r\n                    params: {\r\n                        getlginpphone,\r\n                        getlginppassword\r\n                    }\r\n                }\r\n            ).then(res => {\r\n                if (res.data.status == 1) {\r\n                    alert(res.data.msg);\r\n                    history.push(`index/mine?isLogin=1&getlginpphone=${getlginpphone}`)\r\n                    sessionStorage.isLogin = \"1\";\r\n                    sessionStorage.getlginpphone = JSON.stringify(getlginpphone);\r\n                } else if (res.data.status == 0) {\r\n                    alert(res.data.msg);\r\n                }\r\n            });\r\n        } else {\r\n            alert(\"注册信息不对，请重试，具体信息要求点击右侧图标查看\");\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{ background: \"#fff\", overflow: \"hidden\", height: \"100%\", position: 'relative' }}>\r\n                <h2 onClick={() => { history.go(-1) }} style={{ fontSize: '30px', margin: '10px' }}>&lt;</h2>\r\n                <p style={{}}>\r\n                    <img style={{ width: \"50%\", marginLeft: \"26%\", marginBottom: '2%' }} src=\"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1896957387,1873797357&fm=26&gp=0.jpg\" alt=\"\" />\r\n                </p>\r\n                <section style={{ position: 'absolute', top: \"20px\", left: '38%', fontSize: '20px' }} >手机号注册</section>\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <InputItem\r\n                    ref=\"getlginpphone\"\r\n                    placeholder=\"请输入手机号\"\r\n                />\r\n                <InputItem\r\n                    ref=\"getlginpcode\"\r\n                    placeholder=\"请输入短信验证码\"\r\n                />\r\n                <section onClick={this.fun1} style={{ position: 'absolute', top: '310px', right: \"20px\" }}>\r\n                    获取验证码\r\n                </section>\r\n                <InputItem\r\n                    type={this.state.beforeclassNameType}\r\n                    ref=\"getlginp\"\r\n                    placeholder=\"请输入登录密码\"\r\n                />\r\n                <section style={{ position: 'absolute', top: '347px', right: \"20px\" }}>\r\n                    <i onClick={this.changeclassName} className={this.state.beforeclassName} style={{ fontSize: '30px', paddingRight: '10px' }}></i>\r\n                </section>\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WhiteSpace />\r\n                <WingBlank>\r\n                    <Button style={{ borderRadius: '22px', background: \"#ff734c\", color: \"#fff\" }} onClick={this.todoRegister} >注册</Button><WhiteSpace />\r\n                </WingBlank>\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                    <WhiteSpace />\r\n                </WingBlank>\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <div style={{ display: 'flex', justifyContent: \"space-around\" }}>\r\n                        <p style={{}}>\r\n                            <span style={{}} onClick={() => { history.push('/otherregister') }}>邮箱注册></span>\r\n                        </p>\r\n                    </div>\r\n                    <WhiteSpace />\r\n                </WingBlank>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}