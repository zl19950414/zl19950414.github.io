{"version":3,"sources":["scripts/views/search/index.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/_util/getLocale.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/search-bar/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/search-bar/index.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/search-bar/PropsType.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/search-bar/locale/zh_CN.js"],"names":["Search","todoSearch","SearchDom","state","value","searchvalue","msgarr","location","this","props","URLSearchParams","search","get","setState","console","log","axios","params","then","res","data","result","arr","forEach","element","push","style","background","color","mode","onLeftClick","history","go","leftContent","rightContent","key","type","marginRight","onSubmit","placeholder","maxLength","ref","el","display","flexWrap","justifyContent","map","m","i","width","border","padding","src","alt","lineHeight","Component","Object","defineProperty","exports","obj","_extends2","_extends3","__esModule","getComponentLocale","context","componentName","getDefaultLocale","locale","antLocale","defaultLocale","lang","getLocaleCode","localeCode","exist","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames5","React","_interopRequireWildcard","PropTypes","_rmcFeedback2","_getDataAttr2","_getLocale","_PropsType","newObj","prototype","hasOwnProperty","call","SearchBar","_React$Component","_this","__proto__","getPrototypeOf","e","preventDefault","inputRef","blur","onChange","focus","target","onFocus","firstFocus","onBlur","cb","onBlurTimeout","blurFromOnClear","document","activeElement","window","requestAnimationFrame","setTimeout","body","scrollTop","onClear","doClear","arguments","length","undefined","onCancel","defaultValue","rightBtnRef","initBtn","getComputedStyle","rightBtnInitMarginleft","marginLeft","componentDidUpdate","syntheticPhRef","inputContainerRef","className","indexOf","prefixCls","syntheticPhContainerRef","realWidth","getBoundingClientRect","Math","ceil","showCancelButton","offsetWidth","parseInt","nextProps","nextFrameId","cancelAnimationFrame","clearTimeout","_classnames3","_this2","_props","disabled","cancelText","_state","wrapCls","clearCls","cancelCls","createElement","action","visibility","activeClassName","onClick","defaultProps","contextTypes","object","module","noop"],"mappings":"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","file":"static/js/10.b579f92e.chunk.js","sourcesContent":["\r\n\r\n\r\nimport { WingBlank, SearchBar, NavBar, Icon } from 'antd-mobile';\r\nimport { axios } from '&';\r\nexport default class Search extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchvalue: '212',\r\n            msgarr: [\r\n                [\r\n                    \"//img01.hua.com/uploadpic/newpic/1073263.jpg_220x240.jpg\",\r\n                    \"永生花满月艺术台灯/朦胧粉\",\r\n                    \"￥398\"\r\n                ],\r\n                [\r\n                    \"//img01.hua.com/uploadpic/newpic/1073263.jpg_220x240.jpg\",\r\n                    \"永生花满月艺术台灯/朦胧粉\",\r\n                    \"￥398\"\r\n                ],\r\n            ]\r\n        }\r\n    }\r\n    todoSearch = () => {\r\n        const keyword = this.SearchDom.state.value;\r\n    }\r\n    componentDidMount() {\r\n        const {\r\n            location\r\n        } = this.props;\r\n        var searchvalue = new URLSearchParams(location.search).get('searchvalue');\r\n        this.setState({\r\n            searchvalue: searchvalue\r\n        })\r\n        console.log(this.state.searchvalue);\r\n        axios.get('/vue/searchvalue', {\r\n            params: {\r\n                searchvalue\r\n            }\r\n        }).then((res) => {\r\n            console.log(res.data.result);\r\n            var arr = [];\r\n            res.data.result.forEach(element => {\r\n                arr.push(element.msgarr);\r\n            });\r\n            this.setState({\r\n                msgarr: arr\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        const {\r\n            searchvalue\r\n        } = this.state;\r\n        return (\r\n            <div >\r\n                <NavBar\r\n                    style={{ background: \"#f9f8f8\", color: \"#000\" }}\r\n                    mode=\"dark\"\r\n                    onLeftClick={() => history.go(-1)}\r\n                    leftContent=\"<\"\r\n                    rightContent={[\r\n                        <Icon key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\r\n                        <Icon key=\"1\" type=\"ellipsis\" />,\r\n                    ]}\r\n                >搜索结果</NavBar>\r\n                <SearchBar value={searchvalue} onSubmit={this.todoSearch} placeholder='请输入关键词' maxLength={8} ref={el => this.SearchDom = el}></SearchBar>\r\n                <div style={{ display: \"flex\", flexWrap: 'wrap', justifyContent: 'space-around' }}>\r\n                    {\r\n                        this.state.msgarr.map((m, i) => {\r\n                            return (\r\n                                <div key={i} style={{ width: '46%', border: '2px solid grey', padding: '2px' }}>\r\n                                    <img style={{ width: '100%' }} src={m[0]} alt=\"\" />\r\n                                    <p style={{ lineHeight: \"20px\" }}>{\r\n                                        m[1]\r\n                                    } </p>\r\n                                    <p style={{ lineHeight: \"20px\", color: \"red\" }}>{m[2]}</p>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.getComponentLocale = getComponentLocale;\nexports.getLocaleCode = getLocaleCode;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction getComponentLocale(props, context, componentName, getDefaultLocale) {\n  var locale = {};\n\n  if (context && context.antLocale && context.antLocale[componentName]) {\n    locale = context.antLocale[componentName];\n  } else {\n    var defaultLocale = getDefaultLocale(); // TODO: make default lang of antd be English\n    // https://github.com/ant-design/ant-design/issues/6334\n\n    locale = defaultLocale['default'] || defaultLocale;\n  }\n\n  var result = (0, _extends3['default'])({}, locale);\n\n  if (props.locale) {\n    result = (0, _extends3['default'])({}, result, props.locale);\n\n    if (props.locale.lang) {\n      result.lang = (0, _extends3['default'])({}, locale.lang, props.locale.lang);\n    }\n  }\n\n  return result;\n}\n\nfunction getLocaleCode(context) {\n  var localeCode = context.antLocale && context.antLocale.locale; // Had use LocaleProvide but didn't set locale\n\n  if (context.antLocale && context.antLocale.exist && !localeCode) {\n    return 'zh-cn';\n  }\n\n  return localeCode;\n}","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames4 = require('classnames');\n\nvar _classnames5 = _interopRequireDefault(_classnames4);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _propTypes = require('prop-types');\n\nvar PropTypes = _interopRequireWildcard(_propTypes);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _getLocale = require('../_util/getLocale');\n\nvar _PropsType = require('./PropsType');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction onNextFrame(cb) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(cb);\n  }\n\n  return window.setTimeout(cb, 1);\n}\n\nfunction clearNextFrameAction(nextFrameId) {\n  if (window.cancelAnimationFrame) {\n    window.cancelAnimationFrame(nextFrameId);\n  } else {\n    window.clearTimeout(nextFrameId);\n  }\n}\n\nvar SearchBar = function (_React$Component) {\n  (0, _inherits3['default'])(SearchBar, _React$Component);\n\n  function SearchBar(props) {\n    (0, _classCallCheck3['default'])(this, SearchBar);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (SearchBar.__proto__ || Object.getPrototypeOf(SearchBar)).call(this, props));\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n\n      if (_this.props.onSubmit) {\n        _this.props.onSubmit(_this.state.value || '');\n      }\n\n      if (_this.inputRef) {\n        _this.inputRef.blur();\n      }\n    };\n\n    _this.onChange = function (e) {\n      if (!_this.state.focus) {\n        _this.setState({\n          focus: true\n        });\n      }\n\n      var value = e.target.value;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: value\n        });\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n\n    _this.onFocus = function () {\n      _this.setState({\n        focus: true\n      });\n\n      _this.firstFocus = true;\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus();\n      }\n    };\n\n    _this.onBlur = function () {\n      _this.onBlurTimeout = onNextFrame(function () {\n        if (!_this.blurFromOnClear) {\n          if (document.activeElement !== _this.inputRef) {\n            _this.setState({\n              focus: false\n            });\n          }\n        }\n\n        _this.blurFromOnClear = false;\n      });\n\n      if (_this.props.onBlur) {\n        // fix autoFocus item blur with flash\n        setTimeout(function () {\n          // fix ios12 wechat browser click failure after input\n          if (document.body) {\n            document.body.scrollTop = document.body.scrollTop;\n          }\n        }, 100);\n\n        _this.props.onBlur();\n      }\n    };\n\n    _this.onClear = function () {\n      _this.doClear();\n    };\n\n    _this.doClear = function () {\n      var blurFromOnClear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      _this.blurFromOnClear = blurFromOnClear;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: ''\n        });\n      }\n\n      if (_this.props.onClear) {\n        _this.props.onClear('');\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange('');\n      }\n\n      if (blurFromOnClear) {\n        _this.focus();\n      }\n    };\n\n    _this.onCancel = function () {\n      if (_this.props.onCancel) {\n        _this.props.onCancel(_this.state.value || '');\n      } else {\n        _this.doClear(false);\n      }\n    };\n\n    _this.focus = function () {\n      if (_this.inputRef) {\n        _this.inputRef.focus();\n      }\n    };\n\n    var value = void 0;\n\n    if ('value' in props) {\n      value = props.value || '';\n    } else if ('defaultValue' in props) {\n      value = props.defaultValue;\n    } else {\n      value = '';\n    }\n\n    _this.state = {\n      value: value,\n      focus: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(SearchBar, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.rightBtnRef) {\n        var initBtn = window.getComputedStyle(this.rightBtnRef);\n        this.rightBtnInitMarginleft = initBtn.marginLeft;\n      }\n\n      this.componentDidUpdate();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.syntheticPhRef) {\n        if (this.inputContainerRef && this.inputContainerRef.className.indexOf(this.props.prefixCls + '-start') > -1) {\n          // 检测是否包含名为 ${this.props.prefixCls}-start 样式，生成动画\n          // offsetWidth 某些时候是向上取整，某些时候是向下取整，不能用\n          if (this.syntheticPhContainerRef) {\n            var realWidth = this.syntheticPhContainerRef.getBoundingClientRect().width; // 包含小数\n\n            this.syntheticPhRef.style.width = Math.ceil(realWidth) + 'px';\n          }\n\n          if (!this.props.showCancelButton && this.rightBtnRef) {\n            this.rightBtnRef.style.marginRight = '0';\n          }\n        } else {\n          this.syntheticPhRef.style.width = '100%';\n\n          if (!this.props.showCancelButton && this.rightBtnRef) {\n            this.rightBtnRef.style.marginRight = '-' + (this.rightBtnRef.offsetWidth + (this.rightBtnInitMarginleft != null ? parseInt(this.rightBtnInitMarginleft, 10) : 0)) + 'px';\n          }\n        }\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps && nextProps.value !== this.state.value) {\n        this.setState({\n          value: nextProps.value\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.onBlurTimeout) {\n        clearNextFrameAction(this.onBlurTimeout);\n        this.onBlurTimeout = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames3,\n          _this2 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          showCancelButton = _props.showCancelButton,\n          disabled = _props.disabled,\n          placeholder = _props.placeholder,\n          className = _props.className,\n          style = _props.style,\n          maxLength = _props.maxLength; // tslint:disable-next-line:variable-name\n\n      var _locale = (0, _getLocale.getComponentLocale)(this.props, this.context, 'SearchBar', function () {\n        return require('./locale/zh_CN');\n      });\n\n      var cancelText = _locale.cancelText;\n      var _state = this.state,\n          value = _state.value,\n          focus = _state.focus;\n      var wrapCls = (0, _classnames5['default'])(prefixCls, className, (0, _defineProperty3['default'])({}, prefixCls + '-start', !!(focus || value && value.length > 0)));\n      var clearCls = (0, _classnames5['default'])(prefixCls + '-clear', (0, _defineProperty3['default'])({}, prefixCls + '-clear-show', !!(focus && value && value.length > 0)));\n      var cancelCls = (0, _classnames5['default'])(prefixCls + '-cancel', (_classnames3 = {}, (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-show', !!(showCancelButton || focus || value && value.length > 0)), (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-anim', this.firstFocus), _classnames3));\n      return React.createElement('form', {\n        onSubmit: this.onSubmit,\n        className: wrapCls,\n        style: style,\n        ref: function ref(el) {\n          return _this2.inputContainerRef = el;\n        },\n        action: '#'\n      }, React.createElement('div', {\n        className: prefixCls + '-input'\n      }, React.createElement('div', {\n        className: prefixCls + '-synthetic-ph',\n        ref: function ref(el) {\n          return _this2.syntheticPhRef = el;\n        }\n      }, React.createElement('span', {\n        className: prefixCls + '-synthetic-ph-container',\n        ref: function ref(el) {\n          return _this2.syntheticPhContainerRef = el;\n        }\n      }, React.createElement('i', {\n        className: prefixCls + '-synthetic-ph-icon'\n      }), React.createElement('span', {\n        className: prefixCls + '-synthetic-ph-placeholder' // tslint:disable-next-line:jsx-no-multiline-js\n        ,\n        style: {\n          visibility: placeholder && !value ? 'visible' : 'hidden'\n        }\n      }, placeholder))), React.createElement('input', (0, _extends3['default'])({\n        type: 'search',\n        className: prefixCls + '-value',\n        value: value,\n        disabled: disabled,\n        placeholder: placeholder,\n        onChange: this.onChange,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        ref: function ref(el) {\n          return _this2.inputRef = el;\n        },\n        maxLength: maxLength\n      }, (0, _getDataAttr2['default'])(this.props))), React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-clear-active'\n      }, React.createElement('a', {\n        onClick: this.onClear,\n        className: clearCls\n      }))), React.createElement('div', {\n        className: cancelCls,\n        onClick: this.onCancel,\n        ref: function ref(el) {\n          return _this2.rightBtnRef = el;\n        }\n      }, this.props.cancelText || cancelText));\n    }\n  }]);\n  return SearchBar;\n}(React.Component);\n\nexports['default'] = SearchBar;\nSearchBar.defaultProps = _PropsType.defaultProps;\nSearchBar.contextTypes = {\n  antLocale: PropTypes.object\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction noop() {}\n\nvar defaultProps = exports.defaultProps = {\n  prefixCls: 'am-search',\n  placeholder: '',\n  onSubmit: noop,\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onClear: noop,\n  showCancelButton: false,\n  disabled: false\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = {\n  cancelText: '取消'\n};\nmodule.exports = exports['default'];"],"sourceRoot":""}